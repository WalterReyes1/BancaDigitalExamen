"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SystemHelpers = exports.systemHelperNames = void 0;
const utils_1 = require("../utils");
exports.systemHelperNames = [
    'getEnvVar'
];
const SystemHelpers = function (options) {
    return {
        // get environment variable
        getEnvVar: function (...args) {
            var _a, _b;
            // remove last item (handlebars options argument)
            const parameters = args.slice(0, -1);
            if (parameters.length <= 0) {
                return;
            }
            let varName = String((0, utils_1.fromSafeString)(parameters[0]));
            const defaultValue = (_a = (0, utils_1.fromSafeString)(parameters[1])) !== null && _a !== void 0 ? _a : '';
            if (!varName.startsWith(options.prefix)) {
                varName = options.prefix + varName;
            }
            return (_b = process.env[varName]) !== null && _b !== void 0 ? _b : defaultValue;
        }
    };
};
exports.SystemHelpers = SystemHelpers;
//# sourceMappingURL=system-helpers.js.map